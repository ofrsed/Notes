## Модель OSI
<img src="https://github.com/ofrsed/Notes/blob/main/osi-network-model-layers.svg" width="1200px"/>


Python

## Типы данных в python
- Неизменяемые:
  - int
  - float
  - string
  - bool
  - frozen set
  - tuple
- Изменяемые:
  - list
  - dict
  - set

## Принципы ООП
- Принципы:
  - Абстракция - это использование только тех характеристик объекта, которые с достаточной точностью представляют его в данной системе. 
  - Инкапсуляция - объединение атрибутов и методов в одном объекте и сокрытие данных, то есть невозможность напрямую получить доступ к внутренней структуре объекта
  - Наследование — способ создания класса на основе уже существующего, при котором дочерний класс заимствует атрибуты и методы родительского класса, а также добавляет собственные.
  - Полиморфизм - Объекты разных классов, с разной внутренней реализацией, могут иметь одинаковые интерфейсы. 

## Что такое Python?
Python — высокоуровневый язык программирования с динамической типизацией.
(типы переменных определяются во время выполнения)

## Чем is отличается от двойного равенства (==)?
«==» сравнивает значения, а «is» проверяет, указывают ли объекты на одну и ту же область памяти


## Чем многопоточное приложение отличается от многопроцессорного?
Многопоточные приложения выполняются в рамках одного процесса, но разделены на потоки. Это значит, что каждый поток имеет доступ к общим ресурсам: файлам, памяти, сети и ресурсам машины. Многопроцессорные приложения делятся на отдельные процессы. У каждого собственный изолированный набор ресурсов.
В Python для реализации многопроцессорного подхода используют библиотеки concurrent.futures и multiprocessing, а для многопоточности — threading.


## Что такое aiohttp?
это асинхронный клиентский HTTP-сервер для платформы Python. 
Поддерживает Python версии выше 3.5 и использует библиотеку asyncio. Имеет ряд функций, которые помогают ускорить и повысить эффективность обработки запросов и результатов.

## Асинхронность
слово async идет до def, чтобы показать, что метод является асинхронным. 
слово await показывает, что вы ожидаете завершения сопрограммы.

## Что такое корутина 
Блок кода который работает асинхронно

## Чем корутина отличается от потока?
Корутины не требуют переключения контекста, поэтому код потребляет мало ресурсов. Потоки выполняются на аппаратном или системном уровне. Корутины — более высокоуровневое решение.
## Что такое REST
REST (Representational state transfer «передача состояния представления») – соглашение о том, как выстраивать сервисы. 
веб-приложение с набором урлов – конечных точек. Урлы принимают и возвращают данные в формате JSON. Тип операции задают методом HTTP-запроса, например:
GET – получить объект или список объектов
POST – создать объект
PUT – обновить существующий объект
PATCH – частично обновить существующий объект
DELETE – удалить объект

HEAD – получить метаданные объекта

1.	Единообразие интерфейса
2.	Клиент-сервер
3.	Отсутствие состояния
4.	Кэширование
5.	Слои
6.	Код по требованию (необязательное ограничение)

## Чем пакеты отличаются от модулей?
Пакет представляет собой коллекцию модулей, а модуль — файл или набор файлов.
## Что такое лямбда-функция?
Анонимная функция

## Что такое интерфейс?
Интерфейс — это набор инструментов, который позволяет пользователю взаимодействовать с программой.
Общее

## Какие принципы программирования вы знаете
`SOLID`
- S: Single Responsibility Principle (Принцип единственной ответственности). - Каждый класс должен решать лишь одну задачу.
- O: Open-Closed Principle (Принцип открытости-закрытости). - Программные сущности (классы, модули, функции) должны быть открыты для расширения, но не для модификации.
- L: Liskov Substitution Principle (Принцип подстановки Барбары Лисков). - Необходимо, чтобы подклассы могли бы служить заменой для своих суперклассов.
- I: Interface Segregation Principle (Принцип разделения интерфейса). - Создавайте узкоспециализированные интерфейсы, предназначенные для конкретного клиента. Клиенты не должны зависеть от интерфейсов, которые они не используют.
- D: Dependency Inversion Principle (Принцип инверсии зависимостей). - объектом зависимости должна быть абстракция, а не что-то конкретное.

`YAGNI`
You Aren’t Gonna Need It («Тебе это не понадобится») нежелательно оставлять в продакшене «точки расширения» 

`DRY `
Don’t Repeat Yourself («Не повторяйся»)  - каждое повторяемое поведение в коде следует обособлять для возможности многократного использования
`KISS`
Keep It Stupid Simple («Придерживайся простоты») - следить за тем, чтобы код оставался как можно более простым

Docker
## Что такое docker?
Docker — это открытая платформа с помощью которой разработчики могут создавать, упаковывать, доставлять и запускать приложения в виде легких, портативных, самодостаточных контейнеров

## Что такое контейнер Docker?
Контейнер — базовая единица программного обеспечения, покрывающая код и все его зависимости для обеспечения запуска приложения независимо от окружения
Контейнер Docker может быть создан с использованием образа Docker. Это исполняемый пакет программного обеспечения, содержащий все необходимое для запуска приложения, например, системные программы, библиотеки, код, среды исполнения и настройки.

## Что такое виртуальная машина?
Виртуальная машина - это система, которая действует точно так же, как компьютер. Виртуальные машины позволяют запускать операционную систему в приложении, которое ведет себя как полноценный отдельный компьютер. 


## Опишите составные части архитектуры Docker
сервер, содержит сервис Docker, образы и контейнеры. Сервис связывается с Registry, образы — метаданные приложений, запускаемых в контейнерах Docker.
клиент, применяется для запуска различных действий на сервере Docker.
registry, используется для хранения образов. Есть публичные, доступные каждому, например, Docker Hub и Docker Cloud.
Назовите наиболее важные команды Docker
build, сборка образа для Docker
create, создание нового контейнера
kill. принудительная остановка контейнера
dockerd, запуск сервиса Docker
commit, создание нового образа из изменений в контейнере

## Как определить состояние контейнера Docker?
docker ps –a  - Эта команда выведет список всех доступных контейнеров с их состоянием на сервере. Из этого списка нужно выбрать требуемый контейнер и узнать его состояние.
## Что такое Dockerfile?
Dockerfile содержит инструкции для сборки образов, которые передаются в Docker. 
Текстовый документ, содержащий все возможные команды, с помощью которых пользователь, последовательно их запуская, может собрать образ.
## как ускорить сборку Docker-образов
Уменьшаем контекст 
Или .dockerignore, или положить все файлы, нужные для сборки в отдельную папку
Использовать родительский образ Alpine

Базы данных
Как в postgresql можно заблокировать на изменение получены сороки
Блокировки на уровне таблицы
LOCK TABLE my_table IN SHARE MODE;

13.3.2. Блокировки на уровне строк
SELECT * FROM employees WHERE id = 40 FOR UPDATE;

13.3.3. Блокировки на уровне страниц
Джоины
 


## Какая временная сложность взятия элемента по ключу из словаря в худшем случае?
В худшем случае, когда все ключи хэшируются в одно и то же значение (например, если используется плохая хэш-функция или большое количество коллизий), доступ к элементу по ключу потребует просмотра всех элементов, что делает время выполнения линейным относительно количества элементов в хэш-таблице, то есть O(n).
В общем случае, при хорошо спроектированной хэш-таблице, сложность доступа к элементу по ключу составляет O(1) в среднем случае и O(n) в худшем случае.

## Что такое Active Director
Каталог (БД) в котором хранится информация о пользователях пк, серверах, сетевых и переферийных устройствах

## Что такое NAT (Network Address Translation)
Преобразование сетевых адресов. 
Технология, перенаправляющая трафик между локальной и глобальной сетями

## Что такое DHTP
 это протокол клиент/сервер, который автоматически предоставляет хост Интернет-протокола (IP) с его IP-адресом и другой соответствующей информацией о конфигурации, такой как маска подсети и шлюз по умолчанию.

## Метод ящика в тестировании
стратегия (метод) тестирования функционального поведения объекта (программы, системы) с точки зрения внешнего мира, при котором не используется знание о внутреннем устройстве (коде) тестируемого объекта.



## Виды тестов
- `Модульные` (работа с кодом), тестирование методов и классов
- `Интеграционные` - проверяется, хорошо ли работают вместе различные модули и сервисы, используемые приложением
- `Функциональное` - основное внимание уделяется бизнес-требованиям к приложению. Они проверяют только результат некоторого действия и не проверяют промежуточные состояния системы при выполнении этого действия.
- `Сквозные тесты` - копирует поведение пользователя при работе с ПО в контексте всего приложения

## Что такое Celery
Celery – это асинхронная распределенная очередь задач, написанная на Python, она предназначена для обработки сообщений в реальном времени при помощи многозадачности. Используя Celery, можно организовать выполнение задач в фоновом режиме, не загружая основной поток приложения.


## Микросервисная архитектура

Монолит - все приложение в одном сервисе, микросервис - разбит на маленькие
 
| Микросервисы плюсы | Микросервисы минусы |
| - | - |
| Можно сделать разные языки программирования | Тяжелый дебаг |
| Легкость развертывания | Дублирование кода |
| Масштабируемость | Нужно поддерживать стабильность работы брокеров |
| - | Сложность локальной разработки |

# О-большое

О Большое, записывается как О, — это асимптотическая запись для оценки худшего случая, или для ограничения заданной функции сверху

# CI/CD

CI/CD

это методология разработки и набор практик, при которых в код вносятся небольшие изменения с частыми коммитами. 

CI Continuos Integration  - непрерывная интеграция(Сборка, Тестирование) обычно есть отдельный сервер под CI
CD - (релиз, развертка)

# идентификация аутентификация авторизация

1. Для начала система запрашивает логин, пользователь его указывает, система распознает его как существующий — это __идентификация__.
2. После этого Google просит ввести пароль, пользователь его вводит, и система соглашается, что пользователь, похоже, действительно н
3. астоящий, раз пароль совпал, — это __аутентификация__.
4. Скорее всего, Google дополнительно спросит еще и одноразовый код из SMS или приложения. Если пользователь и его правильно введет, то система окончательно согласится с тем, что он настоящий владелец аккаунта, — это двухфакторная аутентификация.
5. После этого система предоставит пользователю право читать письма в его почтовом ящике и все в таком духе — это __авторизация__.

Методы аутентификации
1. HTTP Basic
2. HTTP Digest - более безопасная форма базовой аутентификации. В отличие от Basic Auth, здесь пароль передается в виде хеша, что повышает уровень безопасности.
3. Cookie и сессии - состояние пользователя хранится на сервере. При первом входе сервер проверяет учётные данные, генерирует сессию и отправляет идентификатор сессии в браузер, который сохраняет его в cookie.
4. JSON Web Tokens (JWTs) - После получения учётных данных от клиента сервер проверяет их и генерирует идентификационный токен JWT, содержащий информацию о пользователе.

Состоит из 3-х частей:
- `Headers` Заголовка с типом токена и алгоритмом шифрования.
- `Payload` Полезной нагрузки с данными для аутентификации и информацией о пользователе.
- `Signature` Подписи, содержащей хешированное значение header+payload+соль, которая подтверждает подлинность данных в полезной нагрузке.

Хеширует Headers и Payload и сравнивает с Signature

Суть в том, что мы один раз передаём приватные данные, а затем используем токен с публичными данными. Ключ для подписи токена хранится только на сервере, и клиент не имеет к нему доступа, что гарантирует, что только сервер может изменять токен. Декодировать токен и получить header и payload может любой, кто его получил, так как эти данные публичные.

Когда сервер получает токен, он вычисляет подпись полезной нагрузки с помощью своего ключа и сравнивает её с подписью в токене. Если данные не совпадают или не удаётся декодировать токен, это указывает на возможное вмешательство, и запрос не проходит валидацию, возвращая ошибку.


Refresh и Access токены
Refresh - живет долго (день+)
Access - живет 10-15 мин. Его можно декодировать

5. Одноразовые пароли (One-Time Passwords, OTP)

Традиционный способ реализации OTP:
- Клиент отправляет имя пользователя и пароль.
- После проверки учётных данных сервер генерирует случайный код, сохраняет его у себя и отправляет в доверенную систему.
- Пользователь получает код в доверенной системе и вводит его в веб-приложение.
- Сервер сверяет код с сохранённым и аутентифицирует пользователя.

7. OAuth 2.0 - протокол аутентификации, позволяющий выдать одному сервису (приложению) права на доступ к ресурсам пользователя на другом сервисе. Работает через токены


# Техпрогон

# CI\CD

# K8S

# Подходы к тестированию
По виду изоляции:
- юнит-тестирование
  - Изолтрованные, покрывающие классы или отдельную функцию
  - А как поступать с компонентами, у которых есть зависимости в виде других компонентов или даже сторов и внешнего API? Надо мокать! Мок (mock) — объект-имитация. Он повторяет нужный компонент с необходимой точностью и реализует его интерфейс или API.
 
- интеграционное
  - В интеграционных тестах мы проверяем работу нескольких компонентов или классов в связке. 
- end-to-end (e2e) (или сквозное тестирование)
  - End-to-end-тестирование эмулирует действия пользователей в среде, идентичной проду.

# Scope в тестировании

скоуп - ограниченной участок кода, в котором доступна переменная?????

# Возможно ли протестировать ошибку?

В pyTest есть готовое решение 

```
def test_zero_division_error():
    with pytest.raises(ZeroDivisionError):
        result = 1 / 0
```

# Отличие версий http

Причина появления версий 2 и 3 - скорость.

- http 1 
  - требовала дожидаться получения ответа перед отправлением следующего запроса
  - Для того чтобы установить шифрованное соединение необходимо сделать от 2х до 3х
- http 2
  - убрали ожидание завершения предыдущего запроса на уровне http протокола
  - меньше рукопожатий
- http 3
  - версию 3 собрали на протоколе udp, убрав ожидание
  - одно рукопожатие
  - чтобы уменьшить объём по сравнению с первой версией, заголовки стали передавать в бинарном виде, а не текстом, сжимать специальным алгоритмом, который позволяет не отправлять повторяющиеся части заголовка

# Веб сокеты



# CORS

Защита от того, чтобы запрос не пришел с неподтвержденного источника.

Поддерживает безопасные запросы кросс-источника и передачу данных между браузерами и серверами.

# Http и Https

Сложнее перехватить, а если перехватят то зашифрованный


# OAuth

https://habr.com/ru/companies/vk/articles/115163/

27:35


# Виды кибератак

1. SQL-инъекции: Это один из наиболее распространенных методов атаки на веб-приложения, когда злоумышленник вводит вредоносный SQL-код в поля ввода на веб-странице, чтобы получить несанкционированный доступ к базе данных.

Пример SQL-инъекции:
`SELECT * FROM users WHERE username = 'admin' OR 1=1 --`


2. XSS (межсайтовый скриптинг): Атака, при которой злоумышленник встраивает вредоносный JavaScript-код на веб-страницу, который выполняется в браузере жертвы.

Пример XSS:
`<script>alert('You have been hacked!');</script>`


3. CSRF (межсайтовая подделка запроса): Атака, при которой злоумышленник заставляет пользователя выполнить нежелательное действие на веб-сайте, на который пользователь авторизован.

4. Атаки на библиотеки и фреймворки: Злоумышленники могут использовать известные уязвимости в сторонних библиотеках и фреймворках, чтобы получить доступ к приложению.

5. DOS/DDOS атаки: Атаки на отказ в обслуживании и распределенные атаки на отказ в обслуживании могут использоваться для перегрузки системы и привести к недоступности ресурса.

6. Фишинг: Атака, при которой злоумышленник пытается обмануть пользователей, чтобы они предоставили конфиденциальную информацию, такую как пароли или данные кредитных карт.
